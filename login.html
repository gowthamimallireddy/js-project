
 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login / Signup | Goals Tracker</title>
<link rel="stylesheet" href="style.css">

<style>
body {
   
    background: linear-gradient(135deg, #2a004f, #9e45ce, #fdb99b);
}

</style>
</head>

<body>

<div class="login-container">
    <h2 id="formTitle">Login</h2>

    <input type="text" id="username" placeholder="Username">

    <div class="password-box">
        <input type="password" id="password" placeholder="Password">
        <span class="toggle-password" onclick="togglePassword()">üëÅ</span>
    </div>

    <button class="auth-btn" id="authBtn">Login</button>

    <p class="toggle">
        Don't have an account? <span id="switchForm">Sign Up</span>
    </p>
</div>

<script>
let isLogin = true;

const switchFormBtn = document.getElementById("switchForm");
const authBtn = document.getElementById("authBtn");

switchFormBtn.addEventListener("click", () => {
    isLogin = !isLogin;
    document.getElementById("formTitle").innerText = isLogin ? "Login" : "Sign Up";
    authBtn.innerText = isLogin ? "Login" : "Sign Up";
    switchFormBtn.innerText = isLogin ? "Sign Up" : "Login";
});

const passwordPattern = /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

authBtn.addEventListener("click", () => {
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value.trim();

    
    if (!username || !password) {
        return alert("All fields are required!");
    }

    if (username.length < 3 || !/^[A-Za-z0-9]+$/.test(username)) {
        return alert("Username must be at least 3 characters (letters & numbers only)");
    }

    if (!passwordPattern.test(password)) {
        return alert("Password must be at least 8 characters, including 1 letter, 1 number & 1 special character!");
    }

    let users = JSON.parse(localStorage.getItem("users")) || {};

    if (isLogin) {
        if (!users[username] || users[username].password !== password) {
            return alert("Invalid username or password!");
        }
        localStorage.setItem("loggedInUser", username);
        window.location.href = "index.html";  
    } 
    else {
        if (users[username]) return alert("User already exists!");

        users[username] = { password };
        localStorage.setItem("users", JSON.stringify(users));

        alert("Signup successful! Please login.");
        isLogin = true;
        document.getElementById("formTitle").innerText = "Login";
        authBtn.innerText = "Login";
        switchFormBtn.innerText = "Sign Up";
    }
});

function togglePassword() {
    const passField = document.getElementById("password");
    const toggleBtn = document.querySelector(".toggle-password");

    if (passField.type === "password") {
        passField.type = "text";
        toggleBtn.textContent = "üôà";
    } else {
        passField.type = "password";
        toggleBtn.textContent = "üëÅ";
    }
}
</script>

</body>
</html>



